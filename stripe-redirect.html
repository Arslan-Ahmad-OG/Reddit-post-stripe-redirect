<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Redirecting…</title>
  <style>
    body { font-family: system-ui, -apple-system, Roboto, "Helvetica Neue", Arial; display:flex; align-items:center; justify-content:center; height:100vh; margin:0; background:#f7fafc; color:#111; }
    .card{ background:white; padding:20px; border-radius:8px; box-shadow:0 6px 18px rgba(0,0,0,.08); text-align:center; max-width:520px; }
    a.button{ display:inline-block; margin-top:12px; padding:10px 16px; background:#FF4500; color:white; border-radius:6px; text-decoration:none; }
    small{ color:#666; }
  </style>
</head>
<body>
  <div class="card">
    <h2>Thanks — redirecting to the extension…</h2>
    <p id="msg">Opening your extension now. If nothing happens, click the button below.</p>
    <a id="openBtn" class="button" href="#">Open extension</a>
    <p><small>If your browser prevents automatic redirection to extensions, click the button above.</small></p>
  </div>

  <script>
    (function(){
      // Put your extension id here:
      const EXT_ID = "oabmcjlomfejldegmlkgpdimkmkakigm";

      // build extension URL and preserve query string from current URL
      const qs = location.search || "";
      const extUrl = `chrome-extension://${EXT_ID}/index.html${qs ? qs : "?payment=success"}`;

      // set button href as fallback
      const openBtn = document.getElementById("openBtn");
      openBtn.href = extUrl;

      // try to auto-redirect (some browsers block chrome-extension redirects)
      setTimeout(() => {
        try {
          window.location.href = extUrl;
        } catch (e) {
          // if blocked, inform user to click the button
          document.getElementById("msg").textContent = "Automatic redirect blocked — please click the button to open the extension.";
        }
      }, 600); // small delay so user sees the page
    })();
  </script>
</body>
</html>
